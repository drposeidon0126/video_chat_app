<section [ngClass]="{ crop: crop | async }">
  <button class="crop-button" mat-icon-button (click)="toggleCrop()">
    <mat-icon>crop</mat-icon>
  </button>
  <video #localVideo id="localVideo" playsinline autoplay muted></video>
  <video #remoteVideo id="remoteVideo" playsinline autoplay></video>

  <figure *ngIf="(state | async) === 'stable'">
    <ng-container [ngTemplateOutlet]="animation"></ng-container>
  </figure>
</section>
<mat-toolbar>
  <div>
    <button
      mat-icon-button
      [disabled]="(state | async) == 'closed'"
      (click)="toggleVideo()"
    >
      <mat-icon>{{ (video | async) ? 'videocam' : 'videocam_off' }}</mat-icon>
    </button>
    <button
      mat-icon-button
      [disabled]="(state | async) == 'closed'"
      (click)="toggleAudio()"
    >
      <mat-icon> {{ (audio | async) ? 'mic' : 'mic_off' }} </mat-icon>
    </button>
  </div>
  <button
    color="warn"
    mat-icon-button
    [disabled]="(state | async) != 'stable'"
    (click)="hangup()"
  >
    <mat-icon>call_end</mat-icon>
  </button>
</mat-toolbar>

<ng-template #animation>
  <img src="assets/images/aspiral.svg" alt="Logo animada">
</ng-template>
